(this["webpackJsonplms-react-app"]=this["webpackJsonplms-react-app"]||[]).push([[35],{403:function(e,a,t){"use strict";t.r(a);var l=t(9),s=t(10),i=t(12),n=t(11),r=t(0),o=t.n(r),c=t(244),d=t(457),m=t(71),u=t(73),f=t(72),v=t(74),b=t(21),h=t(147),p=t(63),E=t.n(p),N=(t(35),t(23)),g=t(64),y=t(16),x=function(e){Object(i.a)(t,e);var a=Object(n.a)(t);function t(e){var s;return Object(l.a)(this,t),(s=a.call(this,e)).createNotification=function(e,a){switch(e){case"info":g.NotificationManager.info(a,"",5e3);break;case"success":g.NotificationManager.success(a,"",5e3);break;case"warning":g.NotificationManager.warning(a,"",5e3);break;case"error":g.NotificationManager.error(a,"",5e3)}},s.state={isLoading:!1,deletedRowId:null,showModal:!1,handleCloseModal:!1,isValid:{value:!1,text:""},firstName:"",lastName:"",email:"",password:"",u_id:"",data:[],columns:[{Header:"First Name",accessor:"first_name",Cell:function(e){return o.a.createElement("p",{className:"cell-custom"},e.value)}},{Header:"Last Name",accessor:"last_name",Cell:function(e){return o.a.createElement("p",{className:"cell-custom"},e.value)}},{Header:"Email",accessor:"email",Cell:function(e){return o.a.createElement("p",{className:"cell-custom"},e.value)}},{Header:"Status",accessor:"status",Cell:function(e){return o.a.createElement("p",{className:"cell-custom"},e.value?"true":"false")}},{Header:"ID",accessor:"u_id",Cell:function(e){return o.a.createElement("p",{className:"cell-custom"},e.value)}},{Header:"Actions",Cell:function(e){return o.a.createElement("div",{className:"action-btn cell-custom"},o.a.createElement(c.a,{variant:"danger",onClick:function(){return s.openDeleteModal(e.original)}},"Delete"))}}]},s}return Object(s.a)(t,[{key:"handleTextChange",value:function(e){this.setState({[e.name]:e.value})}},{key:"openDeleteModal",value:function(e){this.setState({isEdit:!1,name:e.name,status:!0,showModal:!0,deletedRowId:e.id})}},{key:"closeDeleteModal",value:function(){this.setState({showModal:!1})}},{key:"handleDelete",value:function(){var e=this;this.setState({showModal:!1,isLoading:!0}),E.a.delete("".concat(N.a.prod,"/api/user/delete"),{data:{user_id:this.state.deletedRowId}}).then((function(a){e.createNotification("success","Interest Deleted Successfully"),e.getTeachersList(),e.setState({isLoading:!1})})).catch((function(a){e.setState({isLoading:!1}),console.log("Error: deleting data from db ",a.response),e.createNotification("error","Error while deleting data from db")}))}},{key:"componentDidMount",value:function(){this.getTeachersList()}},{key:"getTeachersList",value:function(){var e=this;this.setState({isLoading:!0}),E.a.get("".concat(N.a.prod,"/api/user/faculty/list")).then((function(a){e.setState({data:a.data.data,isLoading:!1})})).catch((function(a){e.setState({isLoading:!1}),console.log("Error: getting data from db ",a.response),e.createNotification("error","Error while Getting data from db")}))}},{key:"cancelDelete",value:function(){this.setState({isEdit:!1,showModal:!1,name:""})}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault();var t=this.state,l=t.firstName,s=t.lastName,i=t.email,n=t.password,r=t.u_id;if(l||0!==l.trim().length)if(s||0!==s.trim().length)if(i||0!==i.trim().length)if(n||0!==n.trim().length)if(r&&0!==r.trim().length){var o=r.trim();o.length<9||o.length>9||"U"!==o.charAt(0)||!/^[A-Z]/.test(o.charAt(8))||!/^\d+$/.test(o.substr(1,7))?this.setState({isValid:{value:!0,text:"Please enter valid Faculty ID",name:"u_id"}}):(this.setState({isLoading:!0}),E.a.post("".concat(N.a.prod,"/api/user/create"),{firstName:l.trim(),lastName:s.trim(),email:i.trim(),password:n.trim(),u_id:o}).then((function(e){a.setState({name:"",isLoading:!1}),a.createNotification("success","User Created Successfully"),a.getTeachersList()})).catch((function(e){console.log("Error: ",e.response),a.setState({isLoading:!1}),e.response&&e.response.status&&(401===e.response.status||400===e.response.status||500===e.response.status)?(a.setState({isValid:{value:!0,text:e.response.data.msg}}),a.createNotification("error",e.response.data.msg)):(a.setState({isValid:{value:!0,text:"Unknown Error"}}),a.createNotification("error","Unknown Error"))})))}else this.setState({isValid:{value:!0,text:"Please enter valid Faculty ID",name:"u_id"}});else this.setState({isValid:{value:!0,text:"Please enter valid password",name:"password"}});else this.setState({isValid:{value:!0,text:"Please enter valid email",name:"email"}});else this.setState({isValid:{value:!0,text:"Please enter valid Last Name",name:"lastName"}});else this.setState({isValid:{value:!0,text:"Please enter valid First Name",name:"firstName"}})}},{key:"render",value:function(){var e=this;return o.a.createElement(b.a,null,this.state.isLoading&&o.a.createElement(y.a,null),this.state.showModal&&o.a.createElement(d.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},o.a.createElement(d.a.Header,{closeButton:!0},o.a.createElement(d.a.Title,null,"Delete Confirm")),o.a.createElement(d.a.Body,null,"Are you sure to want to delete"),o.a.createElement(d.a.Footer,null,o.a.createElement(c.a,{variant:"primary",onClick:function(){return e.handleDelete()}},"OK"),o.a.createElement(c.a,{variant:"secondary",onClick:function(){return e.cancelDelete()}},"Cancel"))),o.a.createElement(m.a,null,o.a.createElement(g.NotificationContainer,null),o.a.createElement(u.a,null,o.a.createElement(f.a,null,o.a.createElement(f.a.Header,null,o.a.createElement(f.a.Title,{as:"h5"},"Add Teacher")),o.a.createElement(f.a.Body,null,o.a.createElement(m.a,null,o.a.createElement(v.a,{className:"col-md-12",onSubmit:function(a){return e.handleSubmit(a)}},o.a.createElement("fieldset",{disabled:this.state.isLoading,className:this.state.isLoading?"opacity-5":""},o.a.createElement(v.a.Row,null,o.a.createElement(u.a,{md:6,lg:6},o.a.createElement(v.a.Group,{className:"mb-2",controlId:"formBasicEmail"},o.a.createElement(v.a.Label,null,"First Name"),o.a.createElement(v.a.Control,{type:"text",name:"firstName",placeholder:"First Name",value:this.state.firstName,className:this.state.isValid.value&&"firstName"===this.state.isValid.name?"in-valid-input":"",onFocus:function(){return e.setState({isValid:{value:!1,text:""}})},onChange:function(a){return e.handleTextChange(a.target)}}))),o.a.createElement(u.a,{md:6,lg:6},o.a.createElement(v.a.Group,{className:"mb-2",controlId:"formBasicEmail"},o.a.createElement(v.a.Label,null,"Last Name"),o.a.createElement(v.a.Control,{type:"text",name:"lastName",placeholder:"Last Name",value:this.state.lastName,className:this.state.isValid.value&&"lastName"===this.state.isValid.name?"in-valid-input":"",onFocus:function(){return e.setState({isValid:{value:!1,text:""}})},onChange:function(a){return e.handleTextChange(a.target)}})))),o.a.createElement(v.a.Row,null,o.a.createElement(u.a,{md:6,lg:6},o.a.createElement(v.a.Group,{className:"mb-2",controlId:"formBasicEmail"},o.a.createElement(v.a.Label,null,"Email"),o.a.createElement(v.a.Control,{type:"email",name:"email",placeholder:"Email",value:this.state.email,className:this.state.isValid.value&&"email"===this.state.isValid.name?"in-valid-input":"",onFocus:function(){return e.setState({isValid:{value:!1,text:""}})},onChange:function(a){return e.handleTextChange(a.target)}}))),o.a.createElement(u.a,{md:6,lg:6},o.a.createElement(v.a.Group,{className:"mb-2",controlId:"formBasicEmail"},o.a.createElement(v.a.Label,null,"Password"),o.a.createElement(v.a.Control,{type:"password",name:"password",placeholder:"Password",value:this.state.password,className:this.state.isValid.value&&"password"===this.state.isValid.name?"in-valid-input":"",onFocus:function(){return e.setState({isValid:{value:!1,text:""}})},onChange:function(a){return e.handleTextChange(a.target)}})))),o.a.createElement(v.a.Row,null,o.a.createElement(u.a,{md:6,lg:6},o.a.createElement(v.a.Group,{className:"mb-2",controlId:"formBasicEmail"},o.a.createElement(v.a.Label,null,"University ID"),o.a.createElement(v.a.Control,{type:"text",name:"u_id",placeholder:"University ID",value:this.state.u_id,className:this.state.isValid.value&&"u_id"===this.state.isValid.name?"in-valid-input":"",onFocus:function(){return e.setState({isValid:{value:!1,text:""}})},onChange:function(a){return e.handleTextChange(a.target)}}))),o.a.createElement(u.a,{md:6,lg:6},o.a.createElement(v.a.Label,null,"Submit"),o.a.createElement("div",null,o.a.createElement(c.a,{type:"submit",style:{width:"100%",marginBottom:0,marginRight:0},variant:"primary"},"Submit")))),o.a.createElement(v.a.Row,null,o.a.createElement(u.a,null,this.state.isValid.value?o.a.createElement(v.a.Text,{style:{color:"red"}},this.state.isValid.text):""))))))))),o.a.createElement(m.a,null,o.a.createElement(u.a,null,o.a.createElement(f.a,null,o.a.createElement(f.a.Header,null,o.a.createElement(f.a.Title,{as:"h5"},"Teachers List")),o.a.createElement(f.a.Body,null,o.a.createElement(m.a,null,o.a.createElement(u.a,null,o.a.createElement(h.a,{style:{background:"#3f4d67",color:"#d3d5db"},data:this.state.data,columns:this.state.columns,noDataText:"No Record Found.",minRows:10,minWidth:1500,loading:this.props.loading||!1,loadingText:"Loading...",defaultSorted:this.props.defaultSorted||[{id:null,desc:!0}],showFilters:!0,className:"react-table -striped -highlight"}))))))))}}]),t}(o.a.Component);a.default=x},58:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];function l(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];var s=null;return a.forEach((function(e){if(null==s){var a=e.apply(void 0,t);null!=a&&(s=a)}})),s}return(0,i.default)(l)};var l,s=t(66),i=(l=s)&&l.__esModule?l:{default:l};e.exports=a.default},66:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){function a(a,t,l,s,i,n){var r=s||"<<anonymous>>",o=n||l;if(null==t[l])return a?new Error("Required "+i+" `"+o+"` was not specified in `"+r+"`."):null;for(var c=arguments.length,d=Array(c>6?c-6:0),m=6;m<c;m++)d[m-6]=arguments[m];return e.apply(void 0,[t,l,r,i,o].concat(d))}var t=a.bind(null,!1);return t.isRequired=a.bind(null,!0),t},e.exports=a.default},74:function(e,a,t){"use strict";var l=t(4),s=t(7),i=t(56),n=t.n(i),r=t(0),o=t.n(r),c=(t(58),t(1)),d=t.n(c),m={type:d.a.string,tooltip:d.a.bool,as:d.a.elementType},u=o.a.forwardRef((function(e,a){var t=e.as,i=void 0===t?"div":t,r=e.className,c=e.type,d=void 0===c?"valid":c,m=e.tooltip,u=void 0!==m&&m,f=Object(s.a)(e,["as","className","type","tooltip"]);return o.a.createElement(i,Object(l.a)({},f,{ref:a,className:n()(r,d+"-"+(u?"tooltip":"feedback"))}))}));u.displayName="Feedback",u.propTypes=m;var f=u,v=o.a.createContext({controlId:void 0}),b=t(57),h=o.a.forwardRef((function(e,a){var t=e.id,i=e.bsPrefix,c=e.bsCustomPrefix,d=e.className,m=e.type,u=void 0===m?"checkbox":m,f=e.isValid,h=void 0!==f&&f,p=e.isInvalid,E=void 0!==p&&p,N=e.isStatic,g=e.as,y=void 0===g?"input":g,x=Object(s.a)(e,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),w=Object(r.useContext)(v),O=w.controlId,C=w.custom?[c,"custom-control-input"]:[i,"form-check-input"],j=C[0],P=C[1];return i=Object(b.a)(j,P),o.a.createElement(y,Object(l.a)({},x,{ref:a,type:u,id:t||O,className:n()(d,i,h&&"is-valid",E&&"is-invalid",N&&"position-static")}))}));h.displayName="FormCheckInput";var p=h,E=o.a.forwardRef((function(e,a){var t=e.bsPrefix,i=e.bsCustomPrefix,c=e.className,d=e.htmlFor,m=Object(s.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),u=Object(r.useContext)(v),f=u.controlId,h=u.custom?[i,"custom-control-label"]:[t,"form-check-label"],p=h[0],E=h[1];return t=Object(b.a)(p,E),o.a.createElement("label",Object(l.a)({},m,{ref:a,htmlFor:d||f,className:n()(c,t)}))}));E.displayName="FormCheckLabel";var N=E,g=o.a.forwardRef((function(e,a){var t=e.id,i=e.bsPrefix,c=e.bsCustomPrefix,d=e.inline,m=void 0!==d&&d,u=e.disabled,h=void 0!==u&&u,E=e.isValid,g=void 0!==E&&E,y=e.isInvalid,x=void 0!==y&&y,w=e.feedbackTooltip,O=void 0!==w&&w,C=e.feedback,j=e.className,P=e.style,I=e.title,F=void 0===I?"":I,S=e.type,k=void 0===S?"checkbox":S,V=e.label,L=e.children,R=e.custom,T=e.as,M=void 0===T?"input":T,D=Object(s.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),_="switch"===k||R,A=_?[c,"custom-control"]:[i,"form-check"],B=A[0],H=A[1];i=Object(b.a)(B,H);var G=Object(r.useContext)(v).controlId,U=Object(r.useMemo)((function(){return{controlId:t||G,custom:_}}),[G,_,t]),z=null!=V&&!1!==V&&!L,q=o.a.createElement(p,Object(l.a)({},D,{type:"switch"===k?"checkbox":k,ref:a,isValid:g,isInvalid:x,isStatic:!z,disabled:h,as:M}));return o.a.createElement(v.Provider,{value:U},o.a.createElement("div",{style:P,className:n()(j,i,_&&"custom-"+k,m&&i+"-inline")},L||o.a.createElement(o.a.Fragment,null,q,z&&o.a.createElement(N,{title:F},V),(g||x)&&o.a.createElement(f,{type:g?"valid":"invalid",tooltip:O},C))))}));g.displayName="FormCheck",g.Input=p,g.Label=N;var y=g,x=o.a.forwardRef((function(e,a){var t=e.id,i=e.bsPrefix,c=e.bsCustomPrefix,d=e.className,m=e.isValid,u=e.isInvalid,f=e.lang,h=e.as,p=void 0===h?"input":h,E=Object(s.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),N=Object(r.useContext)(v),g=N.controlId,y=N.custom?[c,"custom-file-input"]:[i,"form-control-file"],x=y[0],w=y[1];return i=Object(b.a)(x,w),o.a.createElement(p,Object(l.a)({},E,{ref:a,id:t||g,type:"file",lang:f,className:n()(d,i,m&&"is-valid",u&&"is-invalid")}))}));x.displayName="FormFileInput";var w=x,O=o.a.forwardRef((function(e,a){var t=e.bsPrefix,i=e.bsCustomPrefix,c=e.className,d=e.htmlFor,m=Object(s.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),u=Object(r.useContext)(v),f=u.controlId,h=u.custom?[i,"custom-file-label"]:[t,"form-file-label"],p=h[0],E=h[1];return t=Object(b.a)(p,E),o.a.createElement("label",Object(l.a)({},m,{ref:a,htmlFor:d||f,className:n()(c,t),"data-browse":m["data-browse"]}))}));O.displayName="FormFileLabel";var C=O,j=o.a.forwardRef((function(e,a){var t=e.id,i=e.bsPrefix,c=e.bsCustomPrefix,d=e.disabled,m=void 0!==d&&d,u=e.isValid,h=void 0!==u&&u,p=e.isInvalid,E=void 0!==p&&p,N=e.feedbackTooltip,g=void 0!==N&&N,y=e.feedback,x=e.className,O=e.style,j=e.label,P=e.children,I=e.custom,F=e.lang,S=e["data-browse"],k=e.as,V=void 0===k?"div":k,L=e.inputAs,R=void 0===L?"input":L,T=Object(s.a)(e,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),M=I?[c,"custom"]:[i,"form-file"],D=M[0],_=M[1];i=Object(b.a)(D,_);var A=Object(r.useContext)(v).controlId,B=Object(r.useMemo)((function(){return{controlId:t||A,custom:I}}),[A,I,t]),H=null!=j&&!1!==j&&!P,G=o.a.createElement(w,Object(l.a)({},T,{ref:a,isValid:h,isInvalid:E,disabled:m,as:R,lang:F}));return o.a.createElement(v.Provider,{value:B},o.a.createElement(V,{style:O,className:n()(x,i,I&&"custom-file")},P||o.a.createElement(o.a.Fragment,null,I?o.a.createElement(o.a.Fragment,null,G,H&&o.a.createElement(C,{"data-browse":S},j)):o.a.createElement(o.a.Fragment,null,H&&o.a.createElement(C,null,j),G),(h||E)&&o.a.createElement(f,{type:h?"valid":"invalid",tooltip:g},y))))}));j.displayName="FormFile",j.Input=w,j.Label=C;var P=j,I=(t(3),o.a.forwardRef((function(e,a){var t,i,c=e.bsPrefix,d=e.bsCustomPrefix,m=e.type,u=e.size,f=e.htmlSize,h=e.id,p=e.className,E=e.isValid,N=void 0!==E&&E,g=e.isInvalid,y=void 0!==g&&g,x=e.plaintext,w=e.readOnly,O=e.custom,C=e.as,j=void 0===C?"input":C,P=Object(s.a)(e,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),I=Object(r.useContext)(v).controlId,F=O?[d,"custom"]:[c,"form-control"],S=F[0],k=F[1];if(c=Object(b.a)(S,k),x)(i={})[c+"-plaintext"]=!0,t=i;else if("file"===m){var V;(V={})[c+"-file"]=!0,t=V}else if("range"===m){var L;(L={})[c+"-range"]=!0,t=L}else if("select"===j&&O){var R;(R={})[c+"-select"]=!0,R[c+"-select-"+u]=u,t=R}else{var T;(T={})[c]=!0,T[c+"-"+u]=u,t=T}return o.a.createElement(j,Object(l.a)({},P,{type:m,size:f,ref:a,readOnly:w,id:h||I,className:n()(p,t,N&&"is-valid",y&&"is-invalid")}))})));I.displayName="FormControl";var F=Object.assign(I,{Feedback:f}),S=o.a.forwardRef((function(e,a){var t=e.bsPrefix,i=e.className,c=e.children,d=e.controlId,m=e.as,u=void 0===m?"div":m,f=Object(s.a)(e,["bsPrefix","className","children","controlId","as"]);t=Object(b.a)(t,"form-group");var h=Object(r.useMemo)((function(){return{controlId:d}}),[d]);return o.a.createElement(v.Provider,{value:h},o.a.createElement(u,Object(l.a)({},f,{ref:a,className:n()(i,t)}),c))}));S.displayName="FormGroup";var k=S,V=t(73),L=o.a.forwardRef((function(e,a){var t=e.as,i=void 0===t?"label":t,c=e.bsPrefix,d=e.column,m=e.srOnly,u=e.className,f=e.htmlFor,h=Object(s.a)(e,["as","bsPrefix","column","srOnly","className","htmlFor"]),p=Object(r.useContext)(v).controlId;c=Object(b.a)(c,"form-label");var E="col-form-label";"string"===typeof d&&(E=E+"-"+d);var N=n()(u,c,m&&"sr-only",d&&E);return f=f||p,d?o.a.createElement(V.a,Object(l.a)({as:"label",className:N,htmlFor:f},h)):o.a.createElement(i,Object(l.a)({ref:a,className:N,htmlFor:f},h))}));L.displayName="FormLabel",L.defaultProps={column:!1,srOnly:!1};var R=L,T=o.a.forwardRef((function(e,a){var t=e.bsPrefix,i=e.className,r=e.as,c=void 0===r?"small":r,d=e.muted,m=Object(s.a)(e,["bsPrefix","className","as","muted"]);return t=Object(b.a)(t,"form-text"),o.a.createElement(c,Object(l.a)({},m,{ref:a,className:n()(i,t,d&&"text-muted")}))}));T.displayName="FormText";var M=T,D=o.a.forwardRef((function(e,a){return o.a.createElement(y,Object(l.a)({},e,{ref:a,type:"switch"}))}));D.displayName="Switch",D.Input=y.Input,D.Label=y.Label;var _=D,A=t(60),B=Object(A.a)("form-row"),H=o.a.forwardRef((function(e,a){var t=e.bsPrefix,i=e.inline,r=e.className,c=e.validated,d=e.as,m=void 0===d?"form":d,u=Object(s.a)(e,["bsPrefix","inline","className","validated","as"]);return t=Object(b.a)(t,"form"),o.a.createElement(m,Object(l.a)({},u,{ref:a,className:n()(r,c&&"was-validated",i&&t+"-inline")}))}));H.displayName="Form",H.defaultProps={inline:!1},H.Row=B,H.Group=k,H.Control=F,H.Check=y,H.File=P,H.Switch=_,H.Label=R,H.Text=M;a.a=H}}]);
//# sourceMappingURL=35.3cd8f60c.chunk.js.map