(this["webpackJsonplms-react-app"]=this["webpackJsonplms-react-app"]||[]).push([[45],{401:function(e,t,a){"use strict";a.r(t);var n=a(9),l=a(10),s=a(12),i=a(11),r=a(0),o=a.n(r),c=a(244),d=a(457),u=a(71),m=a(73),h=a(72),f=a(74),E=a(21),g=a(147),p=a(63),v=a.n(p),b=(a(35),a(23)),S=a(64),w=a(16),N=a(98),y=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).createNotification=function(e,t){switch(e){case"info":S.NotificationManager.info(t,"",5e3);break;case"success":S.NotificationManager.success(t,"",5e3);break;case"warning":S.NotificationManager.warning(t,"",5e3);break;case"error":S.NotificationManager.error(t,"",5e3)}},l.state={isLoading:!1,deletedRowId:null,showModal:!1,handleCloseModal:!1,name:"",isValid:{value:!1,text:""},data:[],columns:[{Header:"Date Time",accessor:"updatedAt",Cell:function(e){return o.a.createElement("p",{className:"cell-custom"},N(e.value).format("MM/DD/YYYY HH:mm:ss"))}},{Header:"Name",accessor:"name",Cell:function(e){return o.a.createElement("p",{className:"cell-custom"},e.value)}},{Header:"Actions",Cell:function(e){return o.a.createElement("div",{className:"action-btn cell-custom"},o.a.createElement(c.a,{variant:"danger",onClick:function(){return l.openDeleteModal(e.original)}},"Delete"))}}]},l}return Object(l.a)(a,[{key:"handleTextChange",value:function(e){this.setState({name:e})}},{key:"openDeleteModal",value:function(e){this.setState({isEdit:!1,name:e.name,status:!0,showModal:!0,deletedRowId:e.id})}},{key:"closeDeleteModal",value:function(){this.setState({showModal:!1})}},{key:"handleDelete",value:function(){var e=this;this.setState({showModal:!1,isLoading:!0}),v.a.delete("".concat(b.a.prod,"/api/interest/delete"),{data:{interest_id:this.state.deletedRowId}}).then((function(t){e.createNotification("success","Interest Deleted Successfully"),e.getInterestList(),e.setState({isLoading:!1,name:""})})).catch((function(t){e.setState({isLoading:!1,name:""}),console.log("Error: deleting data from db ",t.response),e.createNotification("error","Error while deleting data from db")}))}},{key:"componentDidMount",value:function(){this.getInterestList()}},{key:"getInterestList",value:function(){var e=this;this.setState({isLoading:!0}),v.a.get("".concat(b.a.prod,"/api/interest/list")).then((function(t){e.setState({data:t.data.data,isLoading:!1})})).catch((function(t){e.setState({isLoading:!1}),console.log("Error: getting data from db ",t.response),e.createNotification("error","Error while Getting data from db")}))}},{key:"cancelDelete",value:function(){this.setState({isEdit:!1,showModal:!1,name:""})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.name;a||0!==a.trim().length?(this.setState({isLoading:!0}),v.a.post("".concat(b.a.prod,"/api/interest/create"),{name:a.trim()}).then((function(e){t.setState({name:"",isLoading:!1}),t.createNotification("success","Interest Created Successfully"),t.getInterestList()})).catch((function(e){console.log("Error: ",e.response),t.setState({isLoading:!1}),e.response&&e.response.status&&(409===e.response.status||400===e.response.status||500===e.response.status)?(t.setState({isValid:{value:!0,text:e.response.data.msg}}),t.createNotification("error",e.response.data.msg)):(t.setState({isValid:{value:!0,text:"Unknown Error"}}),t.createNotification("error","Unknown Error"))}))):this.setState({isValid:{value:!0,text:"Please enter valid Interest Name"}})}},{key:"render",value:function(){var e=this;return o.a.createElement(E.a,null,this.state.isLoading&&o.a.createElement(w.a,null),this.state.showModal&&o.a.createElement(d.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},o.a.createElement(d.a.Header,{closeButton:!0},o.a.createElement(d.a.Title,null,"Delete Confirm")),o.a.createElement(d.a.Body,null,"Are you sure to want to delete ",o.a.createElement("b",null,this.state.name)," "),o.a.createElement(d.a.Footer,null,o.a.createElement(c.a,{variant:"primary",onClick:function(){return e.handleDelete()}},"OK"),o.a.createElement(c.a,{variant:"secondary",onClick:function(){return e.cancelDelete()}},"Cancel"))),o.a.createElement(u.a,null,o.a.createElement(S.NotificationContainer,null),o.a.createElement(m.a,null,o.a.createElement(h.a,null,o.a.createElement(h.a.Header,null,o.a.createElement(h.a.Title,{as:"h5"},"Create Interest")),o.a.createElement(h.a.Body,null,o.a.createElement(u.a,null,o.a.createElement(f.a,{className:"col-md-12",onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement("fieldset",{disabled:this.state.isLoading,className:this.state.isLoading?"opacity-5":""},o.a.createElement(f.a.Row,null,o.a.createElement(m.a,{md:6,lg:7},o.a.createElement(f.a.Group,{className:"mb-2",controlId:"formBasicEmail"},o.a.createElement(f.a.Label,null,"Interest Name"),o.a.createElement(f.a.Control,{type:"text",name:"name",placeholder:"Interest Name",value:this.state.name,className:this.state.isValid.value?"in-valid-input":"",onFocus:function(){return e.setState({isValid:{value:!1,text:""}})},onChange:function(t){return e.handleTextChange(t.target.value)}}),this.state.isValid.value?o.a.createElement(f.a.Text,{style:{color:"red"}},this.state.isValid.text):"")),o.a.createElement(m.a,{md:6,lg:4},o.a.createElement("div",null,o.a.createElement(c.a,{type:"submit",style:{marginTop:"1.8rem"},variant:"primary"},"Submit"))))))))))),o.a.createElement(u.a,null,o.a.createElement(m.a,null,o.a.createElement(h.a,null,o.a.createElement(h.a.Header,null,o.a.createElement(h.a.Title,{as:"h5"},"Interest List")),o.a.createElement(h.a.Body,null,o.a.createElement(u.a,null,o.a.createElement(m.a,null,o.a.createElement(g.a,{style:{background:"#3f4d67",color:"#d3d5db"},data:this.state.data,columns:this.state.columns,noDataText:"No Record Found.",minRows:10,minWidth:1500,loading:this.props.loading||!1,loadingText:"Loading...",defaultSorted:this.props.defaultSorted||[{id:null,desc:!0}],showFilters:!0,className:"react-table -striped -highlight"}))))))))}}]),a}(o.a.Component);t.default=y}}]);
//# sourceMappingURL=45.53645e7e.chunk.js.map