(this["webpackJsonplms-react-app"]=this["webpackJsonplms-react-app"]||[]).push([[40],{446:function(e,a,t){"use strict";t.r(a);var i=t(2),n=t(67),o=t.n(n),r=t(68),l=t(9),s=t(10),c=t(12),u=t(11),d=t(0),m=t.n(d),p=t(71),f=t(457),b=t(74),v=t(244),h=t(73),E=t(72),x=t(21),y=t(63),O=t.n(y),N=t(23),g=t(64),j=t(16),k=t(22),_=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var i;return Object(l.a)(this,t),(i=a.call(this,e)).componentDidMount=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.props&&i.props.user&&i.props.user.id&&i.props.match&&i.props.match.params&&i.props.match.params.id&&i.props.match.params.class_id)){e.next=4;break}return e.next=3,i.setState({quiz_id:i.props.match.params.id,class_id:i.props.match.params.class_id});case 3:i.getQuiz();case 4:case"end":return e.stop()}}),e)}))),i.createNotification=function(e,a){switch(e){case"info":g.NotificationManager.info(a,"",5e3);break;case"success":g.NotificationManager.success(a,"",5e3);break;case"warning":g.NotificationManager.warning(a,"",5e3);break;case"error":g.NotificationManager.error(a,"",5e3)}},i.handleQuizSubmit=function(){var e=Object(r.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.setState({isLoading:!0,showModal:!1});case 2:O.a.post("".concat(N.a.prod,"/api/users/quiz/submit"),{user_id:i.props.user.id,quiz_id:i.state.quiz_id,class_id:i.state.class_id,options:JSON.stringify(i.state.data.quiz_options)}).then((function(e){i.props.history.push("/user/class/".concat(i.state.class_id,"/quiz/list"))})).catch((function(e){i.setState({isLoading:!1}),console.log("Error: getting data from db ",e.response),i.createNotification("error","Error while Getting data from db")}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),i.state={isLoading:!1,isValid:{value:!1,text:""},data:{},topic_id:"",class_id:"",comment:""},i}return Object(s.a)(t,[{key:"getQuiz",value:function(){var e=this;this.setState({isLoading:!0}),O.a.get("".concat(N.a.prod,"/api/users/class/").concat(this.state.class_id,"/quiz/").concat(this.state.quiz_id,"/submission")).then((function(a){var t=a.data.data;e.setState({data:t,isLoading:!1})})).catch((function(a){e.setState({isLoading:!1}),console.log("Error: getting data from db ",a.response),e.createNotification("error","Error while Getting data from db")}))}},{key:"openSubmitModel",value:function(e){this.setState({showModal:!0,isValid:{value:!1}})}},{key:"cancelQuizSubmit",value:function(){this.setState({showModal:!1,isValid:{value:!1}})}},{key:"toggleEnabled",value:function(e,a,t,n){var o=Object(i.a)({},this.state.data);"op1"===t&&(o.quiz_options[n][a].op1=!0,o.quiz_options[n][a].op2=!1,o.quiz_options[n][a].op3=!1,o.quiz_options[n][a].op4=!1,o.quiz_options[n].correct="op1"),"op2"===t&&(o.quiz_options[n][a].op1=!1,o.quiz_options[n][a].op2=!0,o.quiz_options[n][a].op3=!1,o.quiz_options[n][a].op4=!1,o.quiz_options[n].correct="op2"),"op3"===t&&(o.quiz_options[n][a].op1=!1,o.quiz_options[n][a].op2=!1,o.quiz_options[n][a].op3=!0,o.quiz_options[n][a].op4=!1,o.quiz_options[n].correct="op3"),"op4"===t&&(o.quiz_options[n][a].op1=!1,o.quiz_options[n][a].op2=!1,o.quiz_options[n][a].op3=!1,o.quiz_options[n][a].op4=!0,o.quiz_options[n].correct="op4"),this.setState({data:o})}},{key:"handleTextChange",value:function(e){this.setState({comment:e.value})}},{key:"render",value:function(){var e=this;return m.a.createElement(x.a,null,this.state.isLoading&&m.a.createElement(j.a,null),m.a.createElement(p.a,null,this.state.showModal&&m.a.createElement(f.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},m.a.createElement(f.a.Header,{closeButton:!0},m.a.createElement(f.a.Title,null,"Confirm Quiz Submit")),m.a.createElement(f.a.Body,null,m.a.createElement("div",null,"Are you sure to want to submit?"),this.state.isValid.value&&"server_error"===this.state.isValid.name?m.a.createElement(b.a.Text,{style:{color:"red"}},this.state.isValid.text):null),m.a.createElement(f.a.Footer,null,m.a.createElement(v.a,{variant:"primary",onClick:function(){return e.handleQuizSubmit()}},"OK"),m.a.createElement(v.a,{variant:"secondary",onClick:function(){return e.cancelQuizSubmit()}},"Cancel"))),m.a.createElement(g.NotificationContainer,null),m.a.createElement(h.a,null,m.a.createElement("fieldset",{disabled:this.state.isLoading,className:this.state.isLoading?"opacity-5":""},m.a.createElement(E.a,null,m.a.createElement(E.a.Header,null,m.a.createElement(E.a.Title,{as:"h6"},this.state.data.title?m.a.createElement(m.a.Fragment,null,m.a.createElement("b",null,"Quiz Title: ")," ","".concat(this.state.data.title)):null)),m.a.createElement(E.a.Body,null,m.a.createElement(p.a,null,m.a.createElement(h.a,{md:{span:8,offset:2}},m.a.createElement(p.a,null,m.a.createElement(h.a,null,this.state.data.quiz_options?this.state.data.quiz_options.map((function(a,t){return m.a.createElement(p.a,{key:a.id},m.a.createElement(h.a,null,m.a.createElement(E.a,null,m.a.createElement(E.a.Header,null,m.a.createElement(E.a.Title,{as:"h6"},m.a.createElement("b",null,"Q","".concat(t+1),": ")," ","".concat(a.question))),m.a.createElement(E.a.Body,null,m.a.createElement(p.a,null,m.a.createElement(h.a,{md:6},m.a.createElement(b.a.Check,{className:"pt-2 pb-2",inline:!0,label:"".concat(a.op1),onChange:function(a){return e.toggleEnabled(a,"correct_option","op1",t)},checked:a.correct_option.op1,type:"checkbox",id:"inline-checkbox-1-".concat(a.id)})),m.a.createElement(h.a,{md:6},m.a.createElement(b.a.Check,{className:"pt-2 pb-2",inline:!0,label:"".concat(a.op2),onChange:function(a){return e.toggleEnabled(a,"correct_option","op2",t)},checked:a.correct_option.op2,type:"checkbox",id:"inline-checkbox-2-".concat(a.id)})),m.a.createElement(h.a,{md:6},m.a.createElement(b.a.Check,{className:"pt-2 pb-2",inline:!0,label:"".concat(a.op3),onChange:function(a){return e.toggleEnabled(a,"correct_option","op3",t)},checked:a.correct_option.op3,type:"checkbox",id:"inline-checkbox-3-".concat(a.id)})),m.a.createElement(h.a,{md:6},m.a.createElement(b.a.Check,{className:"pt-2 pb-2",inline:!0,label:"".concat(a.op4),onChange:function(a){return e.toggleEnabled(a,"correct_option","op4",t)},checked:a.correct_option.op4,type:"checkbox",id:"inline-checkbox-4-".concat(a.id)})))))))})):null)),m.a.createElement(p.a,null,m.a.createElement(h.a,null,m.a.createElement(b.a,null,m.a.createElement(b.a.Row,null,m.a.createElement(h.a,null,m.a.createElement(b.a.Group,{controlId:"exampleForm.ControlTextarea1",className:"text-center"},m.a.createElement(v.a,{style:{width:"50%"},onClick:function(a){return e.openSubmitModel(a)},variant:"outline-primary"},"Submit")))))))))))))))}}]),t}(m.a.Component);a.default=Object(k.b)((function(e){return{user:e.userDetails.user}}),null)(_)},58:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];function i(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=null;return a.forEach((function(e){if(null==n){var a=e.apply(void 0,t);null!=a&&(n=a)}})),n}return(0,o.default)(i)};var i,n=t(66),o=(i=n)&&i.__esModule?i:{default:i};e.exports=a.default},66:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){function a(a,t,i,n,o,r){var l=n||"<<anonymous>>",s=r||i;if(null==t[i])return a?new Error("Required "+o+" `"+s+"` was not specified in `"+l+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[t,i,l,o,s].concat(u))}var t=a.bind(null,!1);return t.isRequired=a.bind(null,!0),t},e.exports=a.default},74:function(e,a,t){"use strict";var i=t(4),n=t(7),o=t(56),r=t.n(o),l=t(0),s=t.n(l),c=(t(58),t(1)),u=t.n(c),d={type:u.a.string,tooltip:u.a.bool,as:u.a.elementType},m=s.a.forwardRef((function(e,a){var t=e.as,o=void 0===t?"div":t,l=e.className,c=e.type,u=void 0===c?"valid":c,d=e.tooltip,m=void 0!==d&&d,p=Object(n.a)(e,["as","className","type","tooltip"]);return s.a.createElement(o,Object(i.a)({},p,{ref:a,className:r()(l,u+"-"+(m?"tooltip":"feedback"))}))}));m.displayName="Feedback",m.propTypes=d;var p=m,f=s.a.createContext({controlId:void 0}),b=t(57),v=s.a.forwardRef((function(e,a){var t=e.id,o=e.bsPrefix,c=e.bsCustomPrefix,u=e.className,d=e.type,m=void 0===d?"checkbox":d,p=e.isValid,v=void 0!==p&&p,h=e.isInvalid,E=void 0!==h&&h,x=e.isStatic,y=e.as,O=void 0===y?"input":y,N=Object(n.a)(e,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),g=Object(l.useContext)(f),j=g.controlId,k=g.custom?[c,"custom-control-input"]:[o,"form-check-input"],_=k[0],w=k[1];return o=Object(b.a)(_,w),s.a.createElement(O,Object(i.a)({},N,{ref:a,type:m,id:t||j,className:r()(u,o,v&&"is-valid",E&&"is-invalid",x&&"position-static")}))}));v.displayName="FormCheckInput";var h=v,E=s.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.bsCustomPrefix,c=e.className,u=e.htmlFor,d=Object(n.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),m=Object(l.useContext)(f),p=m.controlId,v=m.custom?[o,"custom-control-label"]:[t,"form-check-label"],h=v[0],E=v[1];return t=Object(b.a)(h,E),s.a.createElement("label",Object(i.a)({},d,{ref:a,htmlFor:u||p,className:r()(c,t)}))}));E.displayName="FormCheckLabel";var x=E,y=s.a.forwardRef((function(e,a){var t=e.id,o=e.bsPrefix,c=e.bsCustomPrefix,u=e.inline,d=void 0!==u&&u,m=e.disabled,v=void 0!==m&&m,E=e.isValid,y=void 0!==E&&E,O=e.isInvalid,N=void 0!==O&&O,g=e.feedbackTooltip,j=void 0!==g&&g,k=e.feedback,_=e.className,w=e.style,C=e.title,z=void 0===C?"":C,P=e.type,F=void 0===P?"checkbox":P,q=e.label,I=e.children,S=e.custom,M=e.as,V=void 0===M?"input":M,L=Object(n.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),R="switch"===F||S,T=R?[c,"custom-control"]:[o,"form-check"],Q=T[0],A=T[1];o=Object(b.a)(Q,A);var G=Object(l.useContext)(f).controlId,B=Object(l.useMemo)((function(){return{controlId:t||G,custom:R}}),[G,R,t]),H=null!=q&&!1!==q&&!I,J=s.a.createElement(h,Object(i.a)({},L,{type:"switch"===F?"checkbox":F,ref:a,isValid:y,isInvalid:N,isStatic:!H,disabled:v,as:V}));return s.a.createElement(f.Provider,{value:B},s.a.createElement("div",{style:w,className:r()(_,o,R&&"custom-"+F,d&&o+"-inline")},I||s.a.createElement(s.a.Fragment,null,J,H&&s.a.createElement(x,{title:z},q),(y||N)&&s.a.createElement(p,{type:y?"valid":"invalid",tooltip:j},k))))}));y.displayName="FormCheck",y.Input=h,y.Label=x;var O=y,N=s.a.forwardRef((function(e,a){var t=e.id,o=e.bsPrefix,c=e.bsCustomPrefix,u=e.className,d=e.isValid,m=e.isInvalid,p=e.lang,v=e.as,h=void 0===v?"input":v,E=Object(n.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),x=Object(l.useContext)(f),y=x.controlId,O=x.custom?[c,"custom-file-input"]:[o,"form-control-file"],N=O[0],g=O[1];return o=Object(b.a)(N,g),s.a.createElement(h,Object(i.a)({},E,{ref:a,id:t||y,type:"file",lang:p,className:r()(u,o,d&&"is-valid",m&&"is-invalid")}))}));N.displayName="FormFileInput";var g=N,j=s.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.bsCustomPrefix,c=e.className,u=e.htmlFor,d=Object(n.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),m=Object(l.useContext)(f),p=m.controlId,v=m.custom?[o,"custom-file-label"]:[t,"form-file-label"],h=v[0],E=v[1];return t=Object(b.a)(h,E),s.a.createElement("label",Object(i.a)({},d,{ref:a,htmlFor:u||p,className:r()(c,t),"data-browse":d["data-browse"]}))}));j.displayName="FormFileLabel";var k=j,_=s.a.forwardRef((function(e,a){var t=e.id,o=e.bsPrefix,c=e.bsCustomPrefix,u=e.disabled,d=void 0!==u&&u,m=e.isValid,v=void 0!==m&&m,h=e.isInvalid,E=void 0!==h&&h,x=e.feedbackTooltip,y=void 0!==x&&x,O=e.feedback,N=e.className,j=e.style,_=e.label,w=e.children,C=e.custom,z=e.lang,P=e["data-browse"],F=e.as,q=void 0===F?"div":F,I=e.inputAs,S=void 0===I?"input":I,M=Object(n.a)(e,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),V=C?[c,"custom"]:[o,"form-file"],L=V[0],R=V[1];o=Object(b.a)(L,R);var T=Object(l.useContext)(f).controlId,Q=Object(l.useMemo)((function(){return{controlId:t||T,custom:C}}),[T,C,t]),A=null!=_&&!1!==_&&!w,G=s.a.createElement(g,Object(i.a)({},M,{ref:a,isValid:v,isInvalid:E,disabled:d,as:S,lang:z}));return s.a.createElement(f.Provider,{value:Q},s.a.createElement(q,{style:j,className:r()(N,o,C&&"custom-file")},w||s.a.createElement(s.a.Fragment,null,C?s.a.createElement(s.a.Fragment,null,G,A&&s.a.createElement(k,{"data-browse":P},_)):s.a.createElement(s.a.Fragment,null,A&&s.a.createElement(k,null,_),G),(v||E)&&s.a.createElement(p,{type:v?"valid":"invalid",tooltip:y},O))))}));_.displayName="FormFile",_.Input=g,_.Label=k;var w=_,C=(t(3),s.a.forwardRef((function(e,a){var t,o,c=e.bsPrefix,u=e.bsCustomPrefix,d=e.type,m=e.size,p=e.htmlSize,v=e.id,h=e.className,E=e.isValid,x=void 0!==E&&E,y=e.isInvalid,O=void 0!==y&&y,N=e.plaintext,g=e.readOnly,j=e.custom,k=e.as,_=void 0===k?"input":k,w=Object(n.a)(e,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),C=Object(l.useContext)(f).controlId,z=j?[u,"custom"]:[c,"form-control"],P=z[0],F=z[1];if(c=Object(b.a)(P,F),N)(o={})[c+"-plaintext"]=!0,t=o;else if("file"===d){var q;(q={})[c+"-file"]=!0,t=q}else if("range"===d){var I;(I={})[c+"-range"]=!0,t=I}else if("select"===_&&j){var S;(S={})[c+"-select"]=!0,S[c+"-select-"+m]=m,t=S}else{var M;(M={})[c]=!0,M[c+"-"+m]=m,t=M}return s.a.createElement(_,Object(i.a)({},w,{type:d,size:p,ref:a,readOnly:g,id:v||C,className:r()(h,t,x&&"is-valid",O&&"is-invalid")}))})));C.displayName="FormControl";var z=Object.assign(C,{Feedback:p}),P=s.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.className,c=e.children,u=e.controlId,d=e.as,m=void 0===d?"div":d,p=Object(n.a)(e,["bsPrefix","className","children","controlId","as"]);t=Object(b.a)(t,"form-group");var v=Object(l.useMemo)((function(){return{controlId:u}}),[u]);return s.a.createElement(f.Provider,{value:v},s.a.createElement(m,Object(i.a)({},p,{ref:a,className:r()(o,t)}),c))}));P.displayName="FormGroup";var F=P,q=t(73),I=s.a.forwardRef((function(e,a){var t=e.as,o=void 0===t?"label":t,c=e.bsPrefix,u=e.column,d=e.srOnly,m=e.className,p=e.htmlFor,v=Object(n.a)(e,["as","bsPrefix","column","srOnly","className","htmlFor"]),h=Object(l.useContext)(f).controlId;c=Object(b.a)(c,"form-label");var E="col-form-label";"string"===typeof u&&(E=E+"-"+u);var x=r()(m,c,d&&"sr-only",u&&E);return p=p||h,u?s.a.createElement(q.a,Object(i.a)({as:"label",className:x,htmlFor:p},v)):s.a.createElement(o,Object(i.a)({ref:a,className:x,htmlFor:p},v))}));I.displayName="FormLabel",I.defaultProps={column:!1,srOnly:!1};var S=I,M=s.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.className,l=e.as,c=void 0===l?"small":l,u=e.muted,d=Object(n.a)(e,["bsPrefix","className","as","muted"]);return t=Object(b.a)(t,"form-text"),s.a.createElement(c,Object(i.a)({},d,{ref:a,className:r()(o,t,u&&"text-muted")}))}));M.displayName="FormText";var V=M,L=s.a.forwardRef((function(e,a){return s.a.createElement(O,Object(i.a)({},e,{ref:a,type:"switch"}))}));L.displayName="Switch",L.Input=O.Input,L.Label=O.Label;var R=L,T=t(60),Q=Object(T.a)("form-row"),A=s.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.inline,l=e.className,c=e.validated,u=e.as,d=void 0===u?"form":u,m=Object(n.a)(e,["bsPrefix","inline","className","validated","as"]);return t=Object(b.a)(t,"form"),s.a.createElement(d,Object(i.a)({},m,{ref:a,className:r()(l,c&&"was-validated",o&&t+"-inline")}))}));A.displayName="Form",A.defaultProps={inline:!1},A.Row=Q,A.Group=F,A.Control=z,A.Check=O,A.File=w,A.Switch=R,A.Label=S,A.Text=V;a.a=A}}]);
//# sourceMappingURL=40.43e33cd4.chunk.js.map