(this["webpackJsonplms-react-app"]=this["webpackJsonplms-react-app"]||[]).push([[55],{408:function(e,t,a){"use strict";a.r(t);var n=a(67),r=a.n(n),l=a(68),s=a(9),o=a(10),c=a(12),i=a(11),u=a(0),d=a.n(u),m=a(457),h=a(244),p=a(71),f=a(73),E=a(72),g=a(21),w=a(63),b=a.n(w),v=a(23),y=a(64),k=a(16),L=a(22),M=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.props&&n.props.user&&n.props.user.id&&n.props.match&&n.props.match.params&&n.props.match.params.id)){e.next=4;break}return e.next=3,n.setState({class_id:n.props.match.params.id});case 3:n.getLecturesList();case 4:case"end":return e.stop()}}),e)}))),n.createNotification=function(e,t){switch(e){case"info":y.NotificationManager.info(t,"",5e3);break;case"success":y.NotificationManager.success(t,"",5e3);break;case"warning":y.NotificationManager.warning(t,"",5e3);break;case"error":y.NotificationManager.error(t,"",5e3)}},n.state={isLoading:!1,deletedRowId:null,showModal:!1,handleCloseModal:!1,isValid:{value:!1,text:""},data:[],class_id:""},n}return Object(o.a)(a,[{key:"openDeleteModal",value:function(e){this.setState({isEdit:!1,name:e.name,status:!0,showModal:!0,deletedRowId:e.id})}},{key:"closeDeleteModal",value:function(){this.setState({showModal:!1})}},{key:"handleDelete",value:function(){var e=this;this.setState({showModal:!1,isLoading:!0}),b.a.delete("".concat(v.a.prod,"/api/class/delete"),{data:{class_id:this.state.deletedRowId}}).then((function(t){e.createNotification("success","Class Deleted Successfully"),e.getLecturesList(),e.setState({isLoading:!1,name:""})})).catch((function(t){e.setState({isLoading:!1,name:""}),console.log("Error: deleting data from db ",t.response),e.createNotification("error","Error while deleting data from db")}))}},{key:"getLecturesList",value:function(){var e=this;this.setState({isLoading:!0}),b.a.get("".concat(v.a.prod,"/api/class/").concat(this.state.class_id,"/lecture/list")).then((function(t){e.setState({data:t.data.data,isLoading:!1})})).catch((function(t){e.setState({isLoading:!1}),console.log("Error: getting data from db ",t.response),e.createNotification("error","Error while Getting data from db")}))}},{key:"cancelDelete",value:function(){this.setState({isEdit:!1,showModal:!1,name:""})}},{key:"render",value:function(){var e=this;return d.a.createElement(g.a,null,this.state.isLoading&&d.a.createElement(k.a,null),this.state.showModal&&d.a.createElement(m.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},d.a.createElement(m.a.Header,{closeButton:!0},d.a.createElement(m.a.Title,null,"Delete Confirm")),d.a.createElement(m.a.Body,null,"Are you sure to want to delete ",d.a.createElement("b",null,this.state.name)," "),d.a.createElement(m.a.Footer,null,d.a.createElement(h.a,{variant:"primary",onClick:function(){return e.handleDelete()}},"OK"),d.a.createElement(h.a,{variant:"secondary",onClick:function(){return e.cancelDelete()}},"Cancel"))),d.a.createElement(p.a,null,d.a.createElement(y.NotificationContainer,null),d.a.createElement(f.a,null,d.a.createElement(E.a,null,d.a.createElement(E.a.Header,null,d.a.createElement(E.a.Title,{as:"h5"},"Lectures List")),d.a.createElement(E.a.Body,null,d.a.createElement(p.a,null,d.a.createElement(f.a,null,this.state.data.map((function(e,t){return d.a.createElement(f.a,{key:e.id},d.a.createElement(E.a,null,d.a.createElement(E.a.Header,null,d.a.createElement("b",null,"# ",t+1,": ",e.name)),d.a.createElement(E.a.Body,null,d.a.createElement(p.a,null,d.a.createElement(f.a,{sm:6},d.a.createElement("video",{controls:!0,style:{maxWidth:"100%",maxHeight:"100%"}},d.a.createElement("source",{src:"".concat(v.a.prod,"/").concat(e.file)}),"Sorry, your browser doesn't support embedded videos.")),d.a.createElement(f.a,{sm:6},d.a.createElement("h5",null,"Description"),d.a.createElement("hr",null),d.a.createElement("p",null,e.description))))))})))))))))}}]),a}(d.a.Component);t.default=Object(L.b)((function(e){return{user:e.userDetails.user}}),null)(M)}}]);
//# sourceMappingURL=55.9c412106.chunk.js.map