(this["webpackJsonplms-react-app"]=this["webpackJsonplms-react-app"]||[]).push([[46],{402:function(e,t,a){"use strict";a.r(t);var n=a(9),l=a(10),o=a(12),s=a(11),i=a(0),r=a.n(i),c=a(244),u=a(457),d=a(71),m=a(73),h=a(72),f=a(21),g=a(147),E=a(63),p=a.n(E),v=(a(35),a(23)),w=a(64),N=a(16),S=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).createNotification=function(e,t){switch(e){case"info":w.NotificationManager.info(t,"",5e3);break;case"success":w.NotificationManager.success(t,"",5e3);break;case"warning":w.NotificationManager.warning(t,"",5e3);break;case"error":w.NotificationManager.error(t,"",5e3)}},l.state={isLoading:!1,deletedRowId:null,showModal:!1,handleCloseModal:!1,isValid:{value:!1,text:""},data:[],columns:[{Header:"First Name",accessor:"first_name",Cell:function(e){return r.a.createElement("p",{className:"cell-custom"},e.value)}},{Header:"Last Name",accessor:"last_name",Cell:function(e){return r.a.createElement("p",{className:"cell-custom"},e.value)}},{Header:"Email",accessor:"email",Cell:function(e){return r.a.createElement("p",{className:"cell-custom"},e.value)}},{Header:"Status",accessor:"status",Cell:function(e){return r.a.createElement("p",{className:"cell-custom"},e.value?"true":"false")}},{Header:"ID",accessor:"u_id",Cell:function(e){return r.a.createElement("p",{className:"cell-custom"},e.value)}},{Header:"Actions",Cell:function(e){return r.a.createElement("div",{className:"action-btn cell-custom"},r.a.createElement(c.a,{variant:"danger",onClick:function(){return l.openDeleteModal(e.original)}},"Delete"))}}]},l}return Object(l.a)(a,[{key:"handleTextChange",value:function(e){this.setState({name:e})}},{key:"openDeleteModal",value:function(e){this.setState({isEdit:!1,name:e.name,status:!0,showModal:!0,deletedRowId:e.id})}},{key:"closeDeleteModal",value:function(){this.setState({showModal:!1})}},{key:"handleDelete",value:function(){var e=this;this.setState({showModal:!1,isLoading:!0}),p.a.delete("".concat(v.a.prod,"/api/interest/delete"),{data:{user_id:this.state.deletedRowId}}).then((function(t){e.createNotification("success","Interest Deleted Successfully"),e.getStudentsList(),e.setState({isLoading:!1,name:""})})).catch((function(t){e.setState({isLoading:!1,name:""}),console.log("Error: deleting data from db ",t.response),e.createNotification("error","Error while deleting data from db")}))}},{key:"componentDidMount",value:function(){this.getStudentsList()}},{key:"getStudentsList",value:function(){var e=this;this.setState({isLoading:!0}),p.a.get("".concat(v.a.prod,"/api/user/user/list")).then((function(t){e.setState({data:t.data.data,isLoading:!1})})).catch((function(t){e.setState({isLoading:!1}),console.log("Error: getting data from db ",t.response),e.createNotification("error","Error while Getting data from db")}))}},{key:"cancelDelete",value:function(){this.setState({isEdit:!1,showModal:!1,name:""})}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,this.state.isLoading&&r.a.createElement(N.a,null),this.state.showModal&&r.a.createElement(u.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},r.a.createElement(u.a.Header,{closeButton:!0},r.a.createElement(u.a.Title,null,"Delete Confirm")),r.a.createElement(u.a.Body,null,"Are you sure to want to delete"),r.a.createElement(u.a.Footer,null,r.a.createElement(c.a,{variant:"primary",onClick:function(){return e.handleDelete()}},"OK"),r.a.createElement(c.a,{variant:"secondary",onClick:function(){return e.cancelDelete()}},"Cancel"))),r.a.createElement(d.a,null,r.a.createElement(w.NotificationContainer,null)),r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(h.a,null,r.a.createElement(h.a.Header,null,r.a.createElement(h.a.Title,{as:"h5"},"Students List")),r.a.createElement(h.a.Body,null,r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(g.a,{style:{background:"#3f4d67",color:"#d3d5db"},data:this.state.data,columns:this.state.columns,noDataText:"No Record Found.",minRows:10,minWidth:1500,loading:this.props.loading||!1,loadingText:"Loading...",defaultSorted:this.props.defaultSorted||[{id:null,desc:!0}],showFilters:!0,className:"react-table -striped -highlight"}))))))))}}]),a}(r.a.Component);t.default=S}}]);
//# sourceMappingURL=46.0b5e9507.chunk.js.map